{
    "type": "Ext.panel.Panel",
    "reference": {
        "name": "items",
        "type": "array"
    },
    "codeClass": null,
    "userConfig": {
        "container|align": "stretch",
        "id": "dayEditViewId",
        "itemId": null,
        "designer|userClassName": "DayEditView",
        "designer|userAlias": "dayeditview",
        "layout": "vbox",
        "bodyBorder": false,
        "bodyCls": [
            "inficare-splitbg",
            "x-panel-body-default",
            "x-box-layout-ct"
        ],
        "bodyStyle": null,
        "header": false,
        "title": "My Panel"
    },
    "configAlternates": {
        "bodyStyle": "string"
    },
    "designerId": "ef0ded6c-d66b-491c-b9d3-89bb3c7e351b",
    "cn": [
        {
            "type": "Ext.toolbar.Toolbar",
            "reference": {
                "name": "dockedItems",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "layout|flex": 1,
                "dock": "top",
                "itemId": "dayEditToolbarId"
            },
            "designerId": "4999697b-e29f-4278-8bc1-4c44bd206422",
            "cn": [
                {
                    "type": "Ext.button.Button",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "layout|flex": null,
                        "itemId": "saveId",
                        "destroyMenu": null,
                        "glyph": "xe00d@fcrooks",
                        "text": "Sauver"
                    },
                    "designerId": "5c1023d2-b41b-4af2-8b8c-4a1dc5147fc4"
                },
                {
                    "type": "Ext.toolbar.Spacer",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "layout|flex": null,
                        "width": 30
                    },
                    "designerId": "21d5c08d-ad7e-4d98-93cb-28f2bc56bd99"
                },
                {
                    "type": "Ext.button.Button",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "layout|flex": null,
                        "itemId": "delVisitBtnId",
                        "glyph": "xe00e@fcrooks",
                        "text": "Effacer"
                    },
                    "designerId": "c1658907-2df0-49f9-b3aa-88c3ceb56e35"
                },
                {
                    "type": "Ext.toolbar.Fill",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "layout|flex": null
                    },
                    "designerId": "ccc556a7-dff0-4634-8014-9943f26b4ae2"
                },
                {
                    "type": "Ext.form.field.Date",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "layout|flex": null,
                        "itemId": "visitDateFieldId",
                        "width": null,
                        "fieldLabel": "Date tournée",
                        "editable": false,
                        "format": "d/m/Y"
                    },
                    "designerId": "99239a2f-862f-494d-bb03-82924b4b50c7"
                }
            ]
        },
        {
            "type": "Ext.tree.Panel",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "layout|flex": 1,
                "dock": null,
                "height": null,
                "itemId": "dayVisitTree",
                "width": null,
                "resizable": null,
                "resizeHandles": "s",
                "animCollapse": false,
                "header": false,
                "title": "Day Visit List",
                "forceFit": null,
                "hideHeaders": false,
                "store": "VisitEditTreeStore",
                "animate": false,
                "rootVisible": false
            },
            "designerId": "b0eda9ca-ed38-44d7-af8e-506dbb7a94ec",
            "isBuiltIn": true,
            "iconCls": "icon-treegridpanel",
            "autoName": "TreeGrid",
            "cn": [
                {
                    "type": "Ext.tree.View",
                    "reference": {
                        "name": "viewConfig",
                        "type": "object"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "itemId": "dayTreeViewId",
                        "width": null,
                        "rootVisible": false
                    },
                    "designerId": "617e45ac-5576-4148-8fd7-f92f3d5aa2bd",
                    "cn": [
                        {
                            "type": "Ext.tree.plugin.TreeViewDragDrop",
                            "reference": {
                                "name": "plugins",
                                "type": "array"
                            },
                            "codeClass": "Ext.tree.plugin.TreeViewDragDrop",
                            "userConfig": {
                                "pluginId": null,
                                "ddGroup": "dayVisitDd",
                                "dragText": "Drag & drop pour réorganiser",
                                "dropGroup": null
                            },
                            "designerId": "cb09b2ee-c829-43a8-bb03-cce8ecf9c6e9"
                        }
                    ]
                },
                {
                    "type": "Ext.tree.Column",
                    "reference": {
                        "name": "columns",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "width": 200,
                        "defaultWidth": null,
                        "sortable": false,
                        "dataIndex": "namev",
                        "menuDisabled": true,
                        "text": "Visite",
                        "flex": null
                    },
                    "designerId": "093db05e-6b87-4eed-9699-be99cd7b366f"
                },
                {
                    "type": "Ext.grid.column.Column",
                    "reference": {
                        "name": "columns",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "width": 100,
                        "sortable": false,
                        "dataIndex": "nurseid",
                        "menuDisabled": true,
                        "text": "Soignant",
                        "flex": null
                    },
                    "designerId": "77efc759-32bc-4b2d-a3cb-411c118def6b",
                    "cn": [
                        {
                            "type": "Ext.form.field.ComboBox",
                            "reference": {
                                "name": "editor",
                                "type": "object"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "editable": false,
                                "displayField": "namen",
                                "forceSelection": true,
                                "store": "NurseStore",
                                "typeAhead": true,
                                "valueField": "idn"
                            },
                            "designerId": "a4501e01-9092-409c-926a-ae817661bc00"
                        },
                        {
                            "type": "fixedfunction",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "renderer",
                                "designer|params": [
                                    "value",
                                    "metaData",
                                    "record",
                                    "rowIndex",
                                    "colIndex",
                                    "store",
                                    "view"
                                ],
                                "implHandler": [
                                    "var cstore = Ext.getStore(\"NurseStore\");",
                                    "var idx;",
                                    "",
                                    "if (value<=0)",
                                    "return \"\";",
                                    "else",
                                    "{",
                                    "    idx = cstore.findExact('idn',value);",
                                    "",
                                    "    if(idx<0)",
                                    "    return \"\";",
                                    "    else",
                                    "    {",
                                    "        var rec = cstore.getAt(idx);",
                                    "        return rec.get('namen');",
                                    "    }",
                                    "}",
                                    "",
                                    ""
                                ]
                            },
                            "designerId": "adb33977-4f48-4676-87f9-78d701a05e9f"
                        }
                    ]
                },
                {
                    "type": "Ext.grid.column.Column",
                    "reference": {
                        "name": "columns",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "sortable": false,
                        "dataIndex": "patientcare",
                        "menuDisabled": true,
                        "text": "Soins",
                        "flex": 1
                    },
                    "designerId": "0cce80b9-a47e-4dea-a67a-be54e09c4678"
                },
                {
                    "type": "Ext.grid.column.Column",
                    "reference": {
                        "name": "columns",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "sortable": false,
                        "dataIndex": "patientinfo",
                        "menuDisabled": true,
                        "text": "Détail",
                        "flex": 1
                    },
                    "designerId": "575fe2d7-a154-400a-bc7f-aa9bdb6c4a72"
                },
                {
                    "type": "Ext.grid.column.Column",
                    "reference": {
                        "name": "columns",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "sortable": false,
                        "dataIndex": "visitinfo",
                        "menuDisabled": true,
                        "text": "Visit Info",
                        "flex": 2
                    },
                    "designerId": "c7b51158-0a08-484e-9c48-636366b5649b",
                    "cn": [
                        {
                            "type": "Ext.form.field.Text",
                            "reference": {
                                "name": "editor",
                                "type": "object"
                            },
                            "codeClass": null,
                            "designerId": "4996bb24-1ab4-4bfb-b5d1-aacc08b73750"
                        },
                        {
                            "type": "fixedfunction",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "renderer",
                                "designer|params": [
                                    "value",
                                    "metaData",
                                    "record",
                                    "rowIndex",
                                    "colIndex",
                                    "store",
                                    "view"
                                ],
                                "implHandler": [
                                    "return value.replace(/<\\/?[^>]+(>|$)/g, \" \");",
                                    ""
                                ]
                            },
                            "designerId": "ce9b6c8d-4da5-417c-a845-fcd121673d75"
                        }
                    ]
                },
                {
                    "type": "Ext.grid.plugin.CellEditing",
                    "reference": {
                        "name": "plugins",
                        "type": "array"
                    },
                    "codeClass": "Ext.grid.plugin.CellEditing",
                    "designerId": "05f01960-baf2-4e24-aeac-70371a74f681"
                },
                {
                    "type": "Ext.selection.RowModel",
                    "reference": {
                        "name": "selModel",
                        "type": "object"
                    },
                    "codeClass": "Ext.selection.RowModel",
                    "designerId": "7a3213a3-cadd-4346-b17b-5e53cc3dd8be"
                }
            ]
        },
        {
            "type": "Ext.resizer.Splitter",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "componentCls": null,
                "collapseOnDblClick": false
            },
            "designerId": "e413341b-c4ef-4e85-ae9e-d92dc3c4dbdd"
        },
        {
            "type": "Ext.container.Container",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "layout|flex": null,
                "height": 50,
                "itemId": "visitinfocard",
                "minHeight": null,
                "layout": "card"
            },
            "designerId": "c5785b0e-bd7a-4b40-bd17-951b3a74b4a8",
            "cn": [
                {
                    "type": "Ext.form.field.TextArea",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "itemId": "visitinfodisplay",
                        "fieldLabel": "Label",
                        "hideLabel": true,
                        "readOnly": true
                    },
                    "designerId": "2d1bf011-1e4a-4c50-8cbc-98bc54fd4828"
                }
            ]
        },
        {
            "type": "Ext.resizer.Splitter",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "dock": null,
                "width": null,
                "collapsible": true,
                "performCollapse": true
            },
            "designerId": "48bb1ec7-ea49-4265-b9fe-7550c7277cdf"
        },
        {
            "type": "Ext.form.Panel",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "dock": null,
                "height": 160,
                "itemId": "dayCommentId",
                "width": null,
                "layout": "fit",
                "collapseDirection": "bottom",
                "collapsible": true,
                "header": false,
                "title": "Day Comment",
                "api": [
                    "{",
                    "    load: QueryVisitsDb.getDayComment,",
                    "\tsubmit: QueryVisitsDb.saveDayComment",
                    "}"
                ],
                "paramOrder": [
                    "visitDate"
                ],
                "trackResetOnLoad": true
            },
            "designerId": "9a2814d6-9d7e-4076-b69c-feba127dfe87",
            "cn": [
                {
                    "type": "Ext.form.field.HtmlEditor",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "height": 150,
                        "overflowX": "auto",
                        "overflowY": "auto",
                        "fieldLabel": null,
                        "name": "daycomment",
                        "validateOnChange": false,
                        "enableColors": false,
                        "enableLinks": false,
                        "enableSourceEdit": false
                    },
                    "designerId": "9cbe828a-cafb-4192-b5e2-f9a9dab17c2f"
                },
                {
                    "type": "Ext.form.field.Hidden",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "fieldLabel": "Label",
                        "name": "idv"
                    },
                    "designerId": "037fe046-f750-4d17-b9b4-b2781fe594be"
                }
            ]
        },
        {
            "type": "processcfgfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "processDayEditView",
                "designer|params": [
                    "config"
                ],
                "implHandler": [
                    ""
                ]
            },
            "designerId": "7a2327b1-bfc0-40f4-bd39-fc257525417e"
        }
    ]
}